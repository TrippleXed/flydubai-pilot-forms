<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FZ_pilot_documentation_form</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    :root{ 
      /* flydubai Official Brand Colors */
      --bg: linear-gradient(135deg, #6d28d9 0%, #7c3aed 12%, #8b5cf6 25%, #a855f7 37%, #c084fc 50%, #6366f1 62%, #8b5cf6 75%, #9333ea 87%, #7c3aed 100%);
      --card: #ffffff; 
      --ink: #0f172a; 
      --muted: #64748b; 
      --accent: #3b82f6; 
      --accent-light: #60a5fa;
      --line: #e2e8f0; 
      --flydubai-blue: #3b82f6;
      --flydubai-orange: #f97316;
      --flydubai-navy: #1e3a8a;
      --flydubai-light-blue: #dbeafe;
      --aviation-silver: #94a3b8;
      --success: #059669;
      --warning: #d97706;
      --expired: #dc2626;
      --shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4), 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }
    
    html,body{height:100%; scroll-behavior: smooth;}
    body{
      margin:0;
      background: var(--bg);
      background-attachment: fixed;
      background-size: 100% 100vh;
      color:var(--ink);
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-size: 14px;
      line-height: 1.6;
      font-weight: 400;
      min-height: 100vh;
    }
    
    .container{
      max-width:1200px;
      margin:40px auto;
      padding:32px;
    }
    
    .card{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 24px;
      box-shadow: var(--shadow);
      overflow: hidden;
      position: relative;
    }
    
    /* flydubai brand accent stripe */
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, var(--flydubai-blue) 0%, var(--flydubai-orange) 50%, var(--flydubai-blue) 100%);
    }
    header{
      padding: 16px 40px;
      border-bottom: 2px solid var(--line);
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 30%, #f8fafc 70%, #f1f5f9 100%);
      position: relative;
      min-height: 100px;
    }
    
    header h1{
      margin: 0;
      font-size: 28px;
      font-weight: 700;
      letter-spacing: -0.025em;
      color: var(--flydubai-navy);
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      line-height: 28px;
    }
    
    header .logo {
      width: 500px;
      height: 100px;
      background: url('./Flydubai-Logo.png') no-repeat left center;
      background-size: contain;
    }
    
    header .controls {
      flex-shrink: 0;
      transform: translateY(-10px);
    }
    
    header .controls .btn {
      padding: 0px 20px;
      font-size: 16px;
      font-weight: 700;
      background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
      border-color: #dc2626;
      color: #ffffff;
      border-radius: 12px;
      height: 56px;
      line-height: 28px;
      display: flex;
      align-items: center;
    }
    
    header .controls .btn:hover {
      background: linear-gradient(135deg, #b91c1c 0%, #dc2626 100%);
      box-shadow: 0 6px 16px rgba(220, 38, 38, 0.5);
      transform: translateY(-2px);
    }
    
    .content{
      padding: 32px 40px 40px;
      background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
    }
    
    .grid{
      display: grid;
      gap: 24px;
      grid-template-columns: 250px 170px 170px 250px;
      justify-content: space-evenly;
    }
    
    .content > .grid:first-of-type{ 
      gap: 28px; 
      grid-template-columns: minmax(320px, 1fr) minmax(240px, 1fr) minmax(220px, 1fr);
      margin-bottom: 32px;
    }
    
    .content > .grid:first-of-type input, 
    .content > .grid:first-of-type select{ 
      box-sizing: border-box;
    }

    label{
      display: block;
      font-weight: 600;
      margin: 0 0 8px;
      font-size: 14px;
      color: var(--flydubai-navy);
    }

    .section{
      background: linear-gradient(135deg, #fafbff 0%, #f8fafc 100%);
      border: 2px solid var(--line);
      padding: 32px;
      border-radius: 20px;
      margin-bottom: 32px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      position: relative;
    }
    
    .section-title{
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      border-bottom: 2px solid var(--line);
      padding-bottom: 16px;
    }
    
    .section-title h3{
      margin: 0;
      font-size: 22px;
      font-weight: 700;
      color: var(--flydubai-navy);
      letter-spacing: -0.025em;
    }
    
    input, select, button{
      font: inherit;
      color: inherit;
      transition: all 0.2s ease-in-out;
    }
    
    input[type="text"], 
    input[type="date"], 
    input[type="file"],
    select{
      width: 100%;
      padding: 14px 16px;
      border-radius: 12px;
      border: 3px solid #cbd5e1;
      background: #ffffff;
      color: var(--ink);
      font-size: 14px;
      font-weight: 500;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), inset 0 1px 3px rgba(0, 0, 0, 0.05);
      box-sizing: border-box;
    }

    
    input[type="text"]:focus, 
    input[type="date"]:focus,
    input[type="file"]:focus, 
    select:focus{
      outline: none;
      border-color: var(--flydubai-blue);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2), 0 0 0 4px rgba(59, 130, 246, 0.15), inset 0 1px 3px rgba(0, 0, 0, 0.05);
      transform: translateY(-2px);
    }
    
    input[type="text"]::placeholder{
      color: var(--aviation-silver);
      font-weight: 400;
    }

    .form-section {
      background: linear-gradient(135deg, #fafbff 0%, #f8fafc 100%);
      border: 2px solid var(--line);
      padding: 32px;
      border-radius: 20px;
      margin-bottom: 32px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    h2.section-h{
      margin: 0 0 24px 0;
      font-size: 20px;
      font-weight: 700;
      letter-spacing: -0.025em;
      color: var(--flydubai-navy);
      text-transform: uppercase;
      position: relative;
      padding-left: 24px;
    }
    
    h2.section-h::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 24px;
      background: var(--flydubai-orange);
      border-radius: 2px;
    }
    
    .btn{
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      border: 2px solid var(--line);
      padding: 14px 24px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.025em;
      transition: all 0.2s ease-in-out;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: var(--ink);
    }
    
    .btn:hover{
      background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    
    .btn.primary{
      background: linear-gradient(135deg, var(--flydubai-blue) 0%, #3730a3 100%);
      border-color: var(--flydubai-blue);
      color: #ffffff;
      font-weight: 700;
    }
    
    .btn.primary:hover{
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
    }

    .status-indicator {
      display: inline-flex;
      align-items: center;
      padding: 6px 12px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-top: 8px;
    }
    
    .status-valid {
      background: linear-gradient(135deg, var(--success) 0%, #10b981 100%);
      color: white;
    }
    
    .status-expired {
      background: linear-gradient(135deg, var(--expired) 0%, #ef4444 100%);
      color: white;
    }
    
    .status-warning {
      background: linear-gradient(135deg, var(--warning) 0%, #fbbf24 100%);
      color: white;
    }

    .requirement-note {
      background: linear-gradient(135deg, #fef7ed 0%, #fed7aa 100%);
      border: 2px solid var(--flydubai-orange);
      border-radius: 12px;
      padding: 16px;
      margin-top: 16px;
      font-size: 13px;
      font-weight: 500;
      color: var(--flydubai-navy);
      line-height: 1.5;
    }

    .requirement-note::before {
      content: "📋 ";
      font-weight: 700;
      margin-right: 4px;
    }

    .controls{
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      margin-top: 20px;
      justify-content: center;
    }

    .section-title .controls {
      margin-top: 0;
      transform: translateY(-10px);
    }

    /* Signature section */
    #signSection .sig-pad{ 
      border: 2px dashed var(--flydubai-orange);
      border-radius: 16px;
      background: #fff;
      padding: 16px;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    #sigCanvas{ 
      width: 100%;
      height: 160px;
      background: #fff;
      border-radius: 8px;
      cursor: crosshair;
    }
    
    #sigControls{ 
      display: flex;
      gap: 12px;
      margin-top: 16px;
      flex-wrap: wrap;
    }
    @media print{ #sigControls{ display:none !important } }

    .btn.warn {
      background: linear-gradient(135deg, var(--expired) 0%, #ef4444 100%);
      border-color: var(--expired);
      color: white;
      font-weight: 700;
    }

    .btn.warn:hover {
      box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4);
    }

    .muted {
      color: var(--muted);
    }

    /* ensure inputs never touch borders */
    .section input, .section select{ box-sizing:border-box }
    /* limit signature date width so it doesn't reach signature pad */
    #signSection #sigDate{ max-width:180px }
    
    /* Signature section grid override */
    #signSection .grid{
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }

    @media print {
      body { background: #fff; color: #000; }
      .no-print { display: none !important; }
      .card, .section { box-shadow: none; border-color: #d1d5db; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="card" id="formCard">
      <header>
        <div class="logo"></div>
        <h1>PILOT DOCUMENTATION</h1>
        <div class="controls no-print">
        </div>
      </header>

      <div class="content">
        <!-- Pilot Info -->
        <div class="grid">
          <div>
            <label for="pilotName">Full Name</label>
            <input id="pilotName" type="text" placeholder="Enter full name" />
          </div>
          <div>
            <label for="nationality">Nationality</label>
            <select id="nationality">
              <option value="">Select Nationality</option>
              <optgroup label="Middle East">
                <option value="Emirati">Emirati (UAE)</option>
                <option value="Saudi">Saudi Arabian</option>
                <option value="Qatari">Qatari</option>
                <option value="Kuwaiti">Kuwaiti</option>
                <option value="Bahraini">Bahraini</option>
                <option value="Omani">Omani</option>
                <option value="Jordanian">Jordanian</option>
                <option value="Lebanese">Lebanese</option>
                <option value="Iraqi">Iraqi</option>
                <option value="Iranian">Iranian</option>
                <option value="Turkish">Turkish</option>
                <option value="Syrian">Syrian</option>
                <option value="Yemeni">Yemeni</option>
                <option value="Israeli">Israeli</option>
                <option value="Palestinian">Palestinian</option>
              </optgroup>
              <optgroup label="Asia">
                <option value="Indian">Indian</option>
                <option value="Pakistani">Pakistani</option>
                <option value="Bangladeshi">Bangladeshi</option>
                <option value="Sri Lankan">Sri Lankan</option>
                <option value="Nepalese">Nepalese</option>
                <option value="Filipino">Filipino</option>
                <option value="Indonesian">Indonesian</option>
                <option value="Malaysian">Malaysian</option>
                <option value="Singaporean">Singaporean</option>
                <option value="Thai">Thai</option>
                <option value="Vietnamese">Vietnamese</option>
                <option value="Cambodian">Cambodian</option>
                <option value="Myanmar">Myanmar</option>
                <option value="Chinese">Chinese</option>
                <option value="Japanese">Japanese</option>
                <option value="South Korean">South Korean</option>
                <option value="North Korean">North Korean</option>
                <option value="Afghan">Afghan</option>
                <option value="Uzbek">Uzbek</option>
                <option value="Kazakh">Kazakh</option>
                <option value="Kyrgyz">Kyrgyz</option>
                <option value="Tajik">Tajik</option>
                <option value="Turkmen">Turkmen</option>
              </optgroup>
              <optgroup label="Europe">
                <option value="British">British</option>
                <option value="German">German</option>
                <option value="French">French</option>
                <option value="Italian">Italian</option>
                <option value="Spanish">Spanish</option>
                <option value="Dutch">Dutch</option>
                <option value="Belgian">Belgian</option>
                <option value="Swiss">Swiss</option>
                <option value="Austrian">Austrian</option>
                <option value="Swedish">Swedish</option>
                <option value="Norwegian">Norwegian</option>
                <option value="Danish">Danish</option>
                <option value="Finnish">Finnish</option>
                <option value="Polish">Polish</option>
                <option value="Czech">Czech</option>
                <option value="Hungarian">Hungarian</option>
                <option value="Slovak">Slovak</option>
                <option value="Slovenian">Slovenian</option>
                <option value="Croatian">Croatian</option>
                <option value="Serbian">Serbian</option>
                <option value="Romanian">Romanian</option>
                <option value="Bulgarian">Bulgarian</option>
                <option value="Greek">Greek</option>
                <option value="Portuguese">Portuguese</option>
                <option value="Irish">Irish</option>
                <option value="Icelandic">Icelandic</option>
                <option value="Russian">Russian</option>
                <option value="Ukrainian">Ukrainian</option>
                <option value="Belarusian">Belarusian</option>
                <option value="Lithuanian">Lithuanian</option>
                <option value="Latvian">Latvian</option>
                <option value="Estonian">Estonian</option>
              </optgroup>
              <optgroup label="Africa">
                <option value="Egyptian">Egyptian</option>
                <option value="Moroccan">Moroccan</option>
                <option value="Tunisian">Tunisian</option>
                <option value="Algerian">Algerian</option>
                <option value="Libyan">Libyan</option>
                <option value="Sudanese">Sudanese</option>
                <option value="South Sudanese">South Sudanese</option>
                <option value="Ethiopian">Ethiopian</option>
                <option value="Kenyan">Kenyan</option>
                <option value="Tanzanian">Tanzanian</option>
                <option value="Ugandan">Ugandan</option>
                <option value="Rwandan">Rwandan</option>
                <option value="Burundian">Burundian</option>
                <option value="Somali">Somali</option>
                <option value="Nigerian">Nigerian</option>
                <option value="Ghanaian">Ghanaian</option>
                <option value="South African">South African</option>
                <option value="Zimbabwean">Zimbabwean</option>
                <option value="Botswanan">Botswanan</option>
                <option value="Namibian">Namibian</option>
                <option value="Zambian">Zambian</option>
                <option value="Malawian">Malawian</option>
                <option value="Mozambican">Mozambican</option>
                <option value="Malagasy">Malagasy</option>
                <option value="Mauritian">Mauritian</option>
                <option value="Seychellois">Seychellois</option>
              </optgroup>
              <optgroup label="Americas">
                <option value="American">American</option>
                <option value="Canadian">Canadian</option>
                <option value="Mexican">Mexican</option>
                <option value="Brazilian">Brazilian</option>
                <option value="Argentine">Argentine</option>
                <option value="Chilean">Chilean</option>
                <option value="Peruvian">Peruvian</option>
                <option value="Colombian">Colombian</option>
                <option value="Venezuelan">Venezuelan</option>
                <option value="Ecuadorian">Ecuadorian</option>
                <option value="Bolivian">Bolivian</option>
                <option value="Paraguayan">Paraguayan</option>
                <option value="Uruguayan">Uruguayan</option>
                <option value="Guyanese">Guyanese</option>
                <option value="Surinamese">Surinamese</option>
                <option value="Jamaican">Jamaican</option>
                <option value="Trinidadian">Trinidadian</option>
                <option value="Barbadian">Barbadian</option>
                <option value="Bahamian">Bahamian</option>
                <option value="Cuban">Cuban</option>
                <option value="Dominican">Dominican</option>
                <option value="Haitian">Haitian</option>
                <option value="Guatemalan">Guatemalan</option>
                <option value="Honduran">Honduran</option>
                <option value="Salvadoran">Salvadoran</option>
                <option value="Nicaraguan">Nicaraguan</option>
                <option value="Costa Rican">Costa Rican</option>
                <option value="Panamanian">Panamanian</option>
              </optgroup>
              <optgroup label="Oceania">
                <option value="Australian">Australian</option>
                <option value="New Zealander">New Zealander</option>
                <option value="Fijian">Fijian</option>
                <option value="Papua New Guinean">Papua New Guinean</option>
                <option value="Solomon Islander">Solomon Islander</option>
                <option value="Vanuatuan">Vanuatuan</option>
                <option value="Samoan">Samoan</option>
                <option value="Tongan">Tongan</option>
              </optgroup>
            </select>
          </div>
          <div>
            <label for="contactEmail">Contact Email</label>
            <input id="contactEmail" type="text" placeholder="Enter email address" />
          </div>
        </div>

        <div class="form-section">
          <h2 class="section-h">🛂 Pilot License (ATPL/CPL/PPL)</h2>
          <div class="grid" style="grid-template-columns: 320px 200px 170px 170px;">
            <div>
              <label>License Type</label>
              <select id="licenseType">
                <option value="">Select License Type</option>
                <option value="ATPL">ATPL (Airline Transport Pilot License)</option>
                <option value="CPL">CPL (Commercial Pilot License)</option>
                <option value="MPL">MPL (Multi-Crew Pilot License)</option>
              </select>
            </div>
            <div>
              <label>License Number</label>
              <input type="text" id="licenseNumber" placeholder="Enter license number" />
            </div>
            <div>
              <label>Issue Date</label>
              <input type="date" id="licenseIssue" onchange="calculateExpiry('license')" />
            </div>
            <div>
              <label>Expiry Date</label>
              <input type="date" id="licenseExpiry" onchange="checkValidity('license')" />
            </div>
          </div>
          <div class="grid" style="margin-top: 16px;">
            <div>
              <label>Upload Document</label>
              <input type="file" id="licenseFile" accept=".pdf,.jpg,.png" />
            </div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <div id="licenseStatus"></div>
          <div class="requirement-note">
            <strong>Requirement:</strong> Current valid pilot license (ATPL/CPL/PPL) with appropriate aircraft type ratings. License must be valid for the duration of employment and recognized by UAE GCAA or convertible to UAE license.
          </div>
        </div>

        <div class="form-section">
          <h2 class="section-h">🏥 Medical Certificate</h2>
          <div class="grid" style="grid-template-columns: 250px 300px 170px 170px;">
            <div>
              <label>Medical Class</label>
              <select id="medicalClass">
                <option value="">Select Medical Class</option>
                <option value="Class 1">Class 1 Medical Certificate</option>
              </select>
            </div>
            <div>
              <label>Issuing Medical Authority</label>
              <select id="medicalAuthority">
                <option value="">Select Aviation Medical Authority</option>
                <option value="AAC Jordan">AAC Jordan (Amman Aviation Academy)</option>
                <option value="AACM Morocco">AACM Morocco (Agence Nationale de l'Aviation Civile du Maroc)</option>
                <option value="ANAC Argentina">ANAC Argentina (Administración Nacional de Aviación Civil)</option>
                <option value="ANAC Brazil">ANAC Brazil (National Civil Aviation Agency)</option>
                <option value="BCAA Bangladesh">BCAA Bangladesh (Bangladesh Civil Aviation Authority)</option>
                <option value="CAAC China">CAAC (Civil Aviation Administration of China)</option>
                <option value="CAAP Philippines">CAAP (Civil Aviation Authority of the Philippines)</option>
                <option value="CAAS Singapore">CAAS (Civil Aviation Authority of Singapore)</option>
                <option value="CAA Egypt">CAA Egypt (Civil Aviation Authority)</option>
                <option value="CAA Ghana">GCAA Ghana (Ghana Civil Aviation Authority)</option>
                <option value="CAA Nepal">CAAN Nepal (Civil Aviation Authority of Nepal)</option>
                <option value="CAA South Africa">SACAA (South African Civil Aviation Authority)</option>
                <option value="CAA Sri Lanka">CAA Sri Lanka (Civil Aviation Authority of Sri Lanka)</option>
                <option value="CAA UK">CAA UK (Civil Aviation Authority - United Kingdom)</option>
                <option value="CAA Vietnam">CAAV Vietnam (Civil Aviation Authority of Vietnam)</option>
                <option value="CASA Australia">CASA (Civil Aviation Safety Authority - Australia)</option>
                <option value="CASA Colombia">UAEAC Colombia (Unidad Administrativa Especial de Aeronáutica Civil)</option>
                <option value="CAAT Thailand">CAAT Thailand (Civil Aviation Authority of Thailand)</option>
                <option value="DCA Malaysia">DCA Malaysia (Department of Civil Aviation)</option>
                <option value="DGAC Chile">DGAC Chile (Directorate General of Civil Aeronautics)</option>
                <option value="DGAC Ecuador">DGAC Ecuador (Dirección General de Aviación Civil)</option>
                <option value="DGAC France">DGAC France (Direction Générale de l'Aviation Civile)</option>
                <option value="DGAC Peru">DGAC Peru (Dirección General de Aeronáutica Civil)</option>
                <option value="DGCA India">DGCA India (Directorate General of Civil Aviation)</option>
                <option value="DGCA Indonesia">DGCA Indonesia (Directorate General of Civil Aviation)</option>
                <option value="DGCA Myanmar">DCA Myanmar (Department of Civil Aviation)</option>
                <option value="DGCA Pakistan">CAA Pakistan (Civil Aviation Authority)</option>
                <option value="EASA">EASA (European Union Aviation Safety Agency)</option>
                <option value="EAAC Kenya">KCAA (Kenya Civil Aviation Authority)</option>
                <option value="EAC Ethiopia">ECAA Ethiopia (Ethiopian Civil Aviation Authority)</option>
                <option value="FAA USA">FAA (Federal Aviation Administration - USA)</option>
                <option value="GACA Saudi">GACA (General Authority of Civil Aviation - Saudi Arabia)</option>
                <option value="GCAA UAE">GCAA UAE (General Civil Aviation Authority)</option>
                <option value="IAA Ireland">IAA Ireland (Irish Aviation Authority)</option>
                <option value="ICAO">ICAO (International Civil Aviation Organization)</option>
                <option value="JCAB Japan">JCAB (Japan Civil Aviation Bureau)</option>
                <option value="KCAB Korea">MOLIT Korea (Ministry of Land, Infrastructure and Transport)</option>
                <option value="LBA Germany">LBA Germany (Luftfahrt-Bundesamt)</option>
                <option value="MOCA Iraq">MOCA Iraq (Ministry of Construction, Housing, Municipalities & Public Works)</option>
                <option value="NCAA Nigeria">NCAA (Nigerian Civil Aviation Authority)</option>
                <option value="OACI Mexico">AFAC Mexico (Agencia Federal de Aviación Civil)</option>
                <option value="SCCAA Sudan">SCAA Sudan (Sudan Civil Aviation Authority)</option>
                <option value="TCCA Canada">Transport Canada Civil Aviation</option>
                <option value="Other">Other Aviation Medical Authority</option>
              </select>
            </div>
            <div>
              <label>Issue Date</label>
              <input type="date" id="medicalIssue" onchange="calculateExpiry('medical')" />
            </div>
            <div>
              <label>Expiry Date</label>
              <input type="date" id="medicalExpiry" onchange="checkValidity('medical')" />
            </div>
          </div>
          <div class="grid" style="margin-top: 16px; grid-template-columns: 250px 300px 170px 170px;">
            <div>
              <label>Upload Document</label>
              <input type="file" id="medicalFile" accept=".pdf,.jpg,.png" />
            </div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <div id="medicalStatus"></div>
          <div class="requirement-note">
            <strong>Requirement:</strong> Valid Class 1 medical certificate issued within the last 12 months. Must meet ICAO medical standards and be valid for commercial aviation operations. Class 2 medical certificates are not accepted.
          </div>
        </div>

        <div class="form-section">
          <h2 class="section-h">📻 Radio Operator License</h2>
          <div class="grid" style="grid-template-columns: 250px 300px 170px 170px;">
            <div>
              <label>ROL Certificate Number</label>
              <input type="text" id="rolNumber" placeholder="Enter ROL certificate number" />
            </div>
            <div>
              <label>Issuing Radio Authority</label>
              <select id="rolAuthority">
                <option value="">Select Radio Authority</option>
                <option value="AAC Jordan">AAC Jordan (Amman Aviation Academy)</option>
                <option value="AACM Morocco">AACM Morocco (Agence Nationale de l'Aviation Civile du Maroc)</option>
                <option value="ANAC Argentina">ANAC Argentina (Administración Nacional de Aviación Civil)</option>
                <option value="ANAC Brazil">ANAC Brazil (National Civil Aviation Agency)</option>
                <option value="BCAA Bangladesh">BCAA Bangladesh (Bangladesh Civil Aviation Authority)</option>
                <option value="CAAC China">CAAC (Civil Aviation Administration of China)</option>
                <option value="CAAP Philippines">CAAP (Civil Aviation Authority of the Philippines)</option>
                <option value="CAAS Singapore">CAAS (Civil Aviation Authority of Singapore)</option>
                <option value="CAA Egypt">CAA Egypt (Civil Aviation Authority)</option>
                <option value="CAA Ghana">GCAA Ghana (Ghana Civil Aviation Authority)</option>
                <option value="CAA Nepal">CAAN Nepal (Civil Aviation Authority of Nepal)</option>
                <option value="CAA South Africa">SACAA (South African Civil Aviation Authority)</option>
                <option value="CAA Sri Lanka">CAA Sri Lanka (Civil Aviation Authority of Sri Lanka)</option>
                <option value="CAA UK">CAA UK (Civil Aviation Authority - United Kingdom)</option>
                <option value="CAA Vietnam">CAAV Vietnam (Civil Aviation Authority of Vietnam)</option>
                <option value="CASA Australia">CASA (Civil Aviation Safety Authority - Australia)</option>
                <option value="CASA Colombia">UAEAC Colombia (Unidad Administrativa Especial de Aeronáutica Civil)</option>
                <option value="CAAT Thailand">CAAT Thailand (Civil Aviation Authority of Thailand)</option>
                <option value="DCA Malaysia">DCA Malaysia (Department of Civil Aviation)</option>
                <option value="DGAC Chile">DGAC Chile (Directorate General of Civil Aeronautics)</option>
                <option value="DGAC Ecuador">DGAC Ecuador (Dirección General de Aviación Civil)</option>
                <option value="DGAC France">DGAC France (Direction Générale de l'Aviation Civile)</option>
                <option value="DGAC Peru">DGAC Peru (Dirección General de Aeronáutica Civil)</option>
                <option value="DGCA India">DGCA India (Directorate General of Civil Aviation)</option>
                <option value="DGCA Indonesia">DGCA Indonesia (Directorate General of Civil Aviation)</option>
                <option value="DGCA Myanmar">DCA Myanmar (Department of Civil Aviation)</option>
                <option value="DGCA Pakistan">CAA Pakistan (Civil Aviation Authority)</option>
                <option value="EASA">EASA (European Union Aviation Safety Agency)</option>
                <option value="EAAC Kenya">KCAA (Kenya Civil Aviation Authority)</option>
                <option value="EAC Ethiopia">ECAA Ethiopia (Ethiopian Civil Aviation Authority)</option>
                <option value="FAA USA">FAA (Federal Aviation Administration - USA)</option>
                <option value="GACA Saudi">GACA (General Authority of Civil Aviation - Saudi Arabia)</option>
                <option value="GCAA UAE">GCAA UAE (General Civil Aviation Authority)</option>
                <option value="IAA Ireland">IAA Ireland (Irish Aviation Authority)</option>
                <option value="ICAO">ICAO (International Civil Aviation Organization)</option>
                <option value="JCAB Japan">JCAB (Japan Civil Aviation Bureau)</option>
                <option value="KCAB Korea">MOLIT Korea (Ministry of Land, Infrastructure and Transport)</option>
                <option value="LBA Germany">LBA Germany (Luftfahrt-Bundesamt)</option>
                <option value="MOCA Iraq">MOCA Iraq (Ministry of Construction, Housing, Municipalities & Public Works)</option>
                <option value="NCAA Nigeria">NCAA (Nigerian Civil Aviation Authority)</option>
                <option value="OACI Mexico">AFAC Mexico (Agencia Federal de Aviación Civil)</option>
                <option value="SCCAA Sudan">SCAA Sudan (Sudan Civil Aviation Authority)</option>
                <option value="TCCA Canada">Transport Canada Civil Aviation</option>
                <option value="Other">Other Radio Authority</option>
              </select>
            </div>
            <div>
              <label>Issue Date</label>
              <input type="date" id="rolIssue" onchange="calculateExpiry('rol')" />
            </div>
            <div>
              <label>Expiry Date</label>
              <input type="date" id="rolExpiry" onchange="checkValidity('rol')" />
            </div>
          </div>
          <div class="grid" style="margin-top: 16px; grid-template-columns: 250px 300px 170px 170px;">
            <div>
              <label>Upload Document</label>
              <input type="file" id="rolFile" accept=".pdf,.jpg,.png" />
            </div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <div id="rolStatus"></div>
          <div class="requirement-note">
            <strong>Requirement:</strong> Valid Radio Operator License (ROL) certificate with appropriate endorsements for commercial aviation operations. Certificate must be current and recognized internationally.
          </div>
        </div>

        <div class="form-section">
          <h2 class="section-h">⏱️ Flight Hours Verification Letter</h2>
          <div class="grid">
            <div>
              <label>Issuing Authority/Previous Employer</label>
              <select id="hoursAuthority">
                <option value="">Select Airline/Employer</option>
                <optgroup label="Middle East Airlines">
                  <option value="Emirates">Emirates</option>
                  <option value="Qatar Airways">Qatar Airways</option>
                  <option value="Etihad Airways">Etihad Airways</option>
                  <option value="flydubai">flydubai</option>
                  <option value="Saudi Arabian Airlines">Saudi Arabian Airlines (Saudia)</option>
                  <option value="Kuwait Airways">Kuwait Airways</option>
                  <option value="Gulf Air">Gulf Air</option>
                  <option value="Oman Air">Oman Air</option>
                  <option value="Air Arabia">Air Arabia</option>
                  <option value="Flynas">Flynas</option>
                  <option value="Jazeera Airways">Jazeera Airways</option>
                  <option value="Middle East Airlines">Middle East Airlines (MEA)</option>
                  <option value="Royal Jordanian">Royal Jordanian</option>
                  <option value="EgyptAir">EgyptAir</option>
                  <option value="Pegasus Airlines">Pegasus Airlines</option>
                  <option value="AtlasGlobal">AtlasGlobal</option>
                  <option value="Iran Air">Iran Air</option>
                  <option value="Iraq Airways">Iraq Airways</option>
                </optgroup>
                <optgroup label="European Airlines">
                  <option value="Lufthansa">Lufthansa</option>
                  <option value="British Airways">British Airways</option>
                  <option value="Air France">Air France</option>
                  <option value="KLM">KLM Royal Dutch Airlines</option>
                  <option value="Ryanair">Ryanair</option>
                  <option value="EasyJet">EasyJet</option>
                  <option value="Turkish Airlines">Turkish Airlines</option>
                  <option value="Alitalia">ITA Airways (former Alitalia)</option>
                  <option value="Swiss International">Swiss International Air Lines</option>
                  <option value="Austrian Airlines">Austrian Airlines</option>
                  <option value="Iberia">Iberia</option>
                  <option value="Vueling">Vueling Airlines</option>
                  <option value="TAP Air Portugal">TAP Air Portugal</option>
                  <option value="SAS">SAS Scandinavian Airlines</option>
                  <option value="Finnair">Finnair</option>
                  <option value="Norwegian">Norwegian Air</option>
                  <option value="Wizz Air">Wizz Air</option>
                  <option value="Aer Lingus">Aer Lingus</option>
                  <option value="Brussels Airlines">Brussels Airlines</option>
                  <option value="Croatia Airlines">Croatia Airlines</option>
                  <option value="Czech Airlines">Czech Airlines</option>
                  <option value="LOT Polish Airlines">LOT Polish Airlines</option>
                  <option value="Aegean Airlines">Aegean Airlines</option>
                  <option value="Air Serbia">Air Serbia</option>
                  <option value="Ukraine International">Ukraine International Airlines</option>
                </optgroup>
                <optgroup label="Asian Airlines">
                  <option value="Singapore Airlines">Singapore Airlines</option>
                  <option value="Cathay Pacific">Cathay Pacific</option>
                  <option value="ANA">ANA (All Nippon Airways)</option>
                  <option value="JAL">JAL (Japan Airlines)</option>
                  <option value="Korean Air">Korean Air</option>
                  <option value="Thai Airways">Thai Airways</option>
                  <option value="Malaysia Airlines">Malaysia Airlines</option>
                  <option value="Air Asia">AirAsia</option>
                  <option value="China Eastern">China Eastern Airlines</option>
                  <option value="China Southern">China Southern Airlines</option>
                  <option value="Air China">Air China</option>
                  <option value="Hainan Airlines">Hainan Airlines</option>
                  <option value="Shenzhen Airlines">Shenzhen Airlines</option>
                  <option value="Spring Airlines">Spring Airlines</option>
                  <option value="Cebu Pacific">Cebu Pacific Air</option>
                  <option value="Philippine Airlines">Philippine Airlines</option>
                  <option value="Garuda Indonesia">Garuda Indonesia</option>
                  <option value="Lion Air">Lion Air</option>
                  <option value="Jetstar Asia">Jetstar Asia</option>
                  <option value="Scoot">Scoot</option>
                  <option value="Bangkok Airways">Bangkok Airways</option>
                  <option value="Nok Air">Nok Air</option>
                  <option value="VietJet Air">VietJet Air</option>
                  <option value="Vietnam Airlines">Vietnam Airlines</option>
                  <option value="Asiana Airlines">Asiana Airlines</option>
                  <option value="Jeju Air">Jeju Air</option>
                  <option value="IndiGo">IndiGo</option>
                  <option value="SpiceJet">SpiceJet</option>
                  <option value="Go First">Go First (GoAir)</option>
                  <option value="Vistara">Vistara</option>
                  <option value="Air India">Air India</option>
                  <option value="Sri Lankan Airlines">Sri Lankan Airlines</option>
                  <option value="Pakistan International">Pakistan International Airlines</option>
                  <option value="Bangladesh Biman">Bangladesh Biman</option>
                </optgroup>
                <optgroup label="North American Airlines">
                  <option value="American Airlines">American Airlines</option>
                  <option value="Delta Air Lines">Delta Air Lines</option>
                  <option value="United Airlines">United Airlines</option>
                  <option value="Southwest Airlines">Southwest Airlines</option>
                  <option value="Air Canada">Air Canada</option>
                  <option value="WestJet">WestJet</option>
                  <option value="JetBlue Airways">JetBlue Airways</option>
                  <option value="Alaska Airlines">Alaska Airlines</option>
                  <option value="Spirit Airlines">Spirit Airlines</option>
                  <option value="Frontier Airlines">Frontier Airlines</option>
                  <option value="Hawaiian Airlines">Hawaiian Airlines</option>
                  <option value="Porter Airlines">Porter Airlines</option>
                  <option value="Allegiant Air">Allegiant Air</option>
                  <option value="Sun Country Airlines">Sun Country Airlines</option>
                </optgroup>
                <optgroup label="Latin American Airlines">
                  <option value="LATAM">LATAM Airlines</option>
                  <option value="Avianca">Avianca</option>
                  <option value="Copa Airlines">Copa Airlines</option>
                  <option value="Aeromexico">Aeromexico</option>
                  <option value="Volaris">Volaris</option>
                  <option value="Interjet">Interjet</option>
                  <option value="VivaAerobus">VivaAerobus</option>
                  <option value="Azul Brazilian">Azul Brazilian Airlines</option>
                  <option value="GOL">GOL Linhas Aéreas</option>
                  <option value="JetSMART">JetSMART</option>
                  <option value="Sky Airline">Sky Airline</option>
                  <option value="Wingo">Wingo</option>
                </optgroup>
                <optgroup label="African Airlines">
                  <option value="Ethiopian Airlines">Ethiopian Airlines</option>
                  <option value="Kenya Airways">Kenya Airways</option>
                  <option value="South African Airways">South African Airways</option>
                  <option value="EgyptAir">EgyptAir</option>
                  <option value="Royal Air Maroc">Royal Air Maroc</option>
                  <option value="Tunisair">Tunisair</option>
                  <option value="Air Algerie">Air Algérie</option>
                  <option value="Libyan Airlines">Libyan Airlines</option>
                  <option value="Sudan Airways">Sudan Airways</option>
                  <option value="RwandAir">RwandAir</option>
                  <option value="Precision Air">Precision Air</option>
                  <option value="Fastjet">Fastjet</option>
                  <option value="Kulula">Kulula.com</option>
                  <option value="Mango Airlines">Mango Airlines</option>
                  <option value="Air Mauritius">Air Mauritius</option>
                  <option value="Air Seychelles">Air Seychelles</option>
                </optgroup>
                <optgroup label="Oceania Airlines">
                  <option value="Qantas">Qantas Airways</option>
                  <option value="Jetstar Airways">Jetstar Airways</option>
                  <option value="Virgin Australia">Virgin Australia</option>
                  <option value="Tiger Airways">Tigerair Australia</option>
                  <option value="Air New Zealand">Air New Zealand</option>
                  <option value="Fiji Airways">Fiji Airways</option>
                  <option value="Air Vanuatu">Air Vanuatu</option>
                  <option value="Solomon Airlines">Solomon Airlines</option>
                </optgroup>
                <optgroup label="Other Employers">
                  <option value="Military">Military Aviation</option>
                  <option value="Charter Company">Charter/Corporate Aviation</option>
                  <option value="Flight Training">Flight Training Organization</option>
                  <option value="Cargo Airline">Cargo Airline</option>
                  <option value="Other">Other (specify in notes)</option>
                </optgroup>
              </select>
            </div>
            <div>
              <label>Issue Date</label>
              <input type="date" id="hoursDate" />
            </div>
            <div>
              <label>Total Hours Verified</label>
              <input type="text" id="totalHours" placeholder="e.g., 5,500 hours" />
            </div>
            <div>
              <label>Upload Letter</label>
              <input type="file" id="hoursFile" accept=".pdf,.jpg,.png" />
            </div>
          </div>
          <div class="requirement-note">
            <strong>Requirement:</strong> Official verification letter from previous airline/employer issued within 30 days of joining date. Must include total flight hours, aircraft types flown, and employment dates. Letter must be on company letterhead with authorized signature.
          </div>
        </div>

        <div class="form-section">
          <h2 class="section-h">📋 License Verification Letter</h2>
          <div class="grid">
            <div>
              <label>Issuing Aviation Authority</label>
              <select id="licenseAuthority">
                <option value="">Select Aviation Authority</option>
                <option value="AAC Jordan">AAC Jordan (Amman Aviation Academy)</option>
                <option value="AACM Morocco">AACM Morocco (Agence Nationale de l'Aviation Civile du Maroc)</option>
                <option value="ANAC Argentina">ANAC Argentina (Administración Nacional de Aviación Civil)</option>
                <option value="ANAC Brazil">ANAC Brazil (National Civil Aviation Agency)</option>
                <option value="BCAA Bangladesh">BCAA Bangladesh (Bangladesh Civil Aviation Authority)</option>
                <option value="CAAC China">CAAC (Civil Aviation Administration of China)</option>
                <option value="CAAP Philippines">CAAP (Civil Aviation Authority of the Philippines)</option>
                <option value="CAAS Singapore">CAAS (Civil Aviation Authority of Singapore)</option>
                <option value="CAA Egypt">CAA Egypt (Civil Aviation Authority)</option>
                <option value="CAA Ghana">GCAA Ghana (Ghana Civil Aviation Authority)</option>
                <option value="CAA Nepal">CAAN Nepal (Civil Aviation Authority of Nepal)</option>
                <option value="CAA South Africa">SACAA (South African Civil Aviation Authority)</option>
                <option value="CAA Sri Lanka">CAA Sri Lanka (Civil Aviation Authority of Sri Lanka)</option>
                <option value="CAA UK">CAA UK (Civil Aviation Authority - United Kingdom)</option>
                <option value="CAA Vietnam">CAAV Vietnam (Civil Aviation Authority of Vietnam)</option>
                <option value="CASA Australia">CASA (Civil Aviation Safety Authority - Australia)</option>
                <option value="CASA Colombia">UAEAC Colombia (Unidad Administrativa Especial de Aeronáutica Civil)</option>
                <option value="CAAT Thailand">CAAT Thailand (Civil Aviation Authority of Thailand)</option>
                <option value="DCA Malaysia">DCA Malaysia (Department of Civil Aviation)</option>
                <option value="DGAC Chile">DGAC Chile (Directorate General of Civil Aeronautics)</option>
                <option value="DGAC Ecuador">DGAC Ecuador (Dirección General de Aviación Civil)</option>
                <option value="DGAC France">DGAC France (Direction Générale de l'Aviation Civile)</option>
                <option value="DGAC Peru">DGAC Peru (Dirección General de Aeronáutica Civil)</option>
                <option value="DGCA India">DGCA India (Directorate General of Civil Aviation)</option>
                <option value="DGCA Indonesia">DGCA Indonesia (Directorate General of Civil Aviation)</option>
                <option value="DGCA Myanmar">DCA Myanmar (Department of Civil Aviation)</option>
                <option value="DGCA Pakistan">CAA Pakistan (Civil Aviation Authority)</option>
                <option value="EASA">EASA (European Union Aviation Safety Agency)</option>
                <option value="EAAC Kenya">KCAA (Kenya Civil Aviation Authority)</option>
                <option value="EAC Ethiopia">ECAA Ethiopia (Ethiopian Civil Aviation Authority)</option>
                <option value="FAA USA">FAA (Federal Aviation Administration - USA)</option>
                <option value="GACA Saudi">GACA (General Authority of Civil Aviation - Saudi Arabia)</option>
                <option value="GCAA UAE">GCAA UAE (General Civil Aviation Authority)</option>
                <option value="IAA Ireland">IAA Ireland (Irish Aviation Authority)</option>
                <option value="ICAO">ICAO (International Civil Aviation Organization)</option>
                <option value="JCAB Japan">JCAB (Japan Civil Aviation Bureau)</option>
                <option value="KCAB Korea">MOLIT Korea (Ministry of Land, Infrastructure and Transport)</option>
                <option value="LBA Germany">LBA Germany (Luftfahrt-Bundesamt)</option>
                <option value="MOCA Iraq">MOCA Iraq (Ministry of Construction, Housing, Municipalities & Public Works)</option>
                <option value="NCAA Nigeria">NCAA (Nigerian Civil Aviation Authority)</option>
                <option value="OACI Mexico">AFAC Mexico (Agencia Federal de Aviación Civil)</option>
                <option value="SCCAA Sudan">SCAA Sudan (Sudan Civil Aviation Authority)</option>
                <option value="TCCA Canada">Transport Canada Civil Aviation</option>
                <option value="Other">Other (specify in notes)</option>
              </select>
            </div>
            <div>
              <label>Verification Date</label>
              <input type="date" id="licenseVerifyDate" />
            </div>
            <div>
              <label>License Status</label>
              <select id="licenseStatus">
                <option value="">Select Status</option>
                <option value="Valid">Valid - Good Standing</option>
                <option value="Current">Current - No Restrictions</option>
                <option value="Suspended">Suspended</option>
                <option value="Revoked">Revoked</option>
              </select>
            </div>
            <div>
              <label>Upload Letter</label>
              <input type="file" id="licenseVerifyFile" accept=".pdf,.jpg,.png" />
            </div>
          </div>
          <div class="requirement-note">
            <strong>Requirement:</strong> Official license verification letter from issuing aviation authority (EASA, FAA, etc.) issued within 30 days of joining date. Must confirm license validity, good standing, and any restrictions or endorsements.
          </div>
        </div>

        <div class="form-section">
          <h2 class="section-h">✅ No Incident/Accident Letter</h2>
          <div class="grid" style="grid-template-columns: 400px 170px 300px 250px;">
            <div>
              <label>Issuing Authority/Previous Employer</label>
              <select id="incidentAuthority">
                <option value="">Select Airline/Employer</option>
                <optgroup label="Middle East Airlines">
                  <option value="Emirates">Emirates</option>
                  <option value="Qatar Airways">Qatar Airways</option>
                  <option value="Etihad Airways">Etihad Airways</option>
                  <option value="flydubai">flydubai</option>
                  <option value="Saudi Arabian Airlines">Saudi Arabian Airlines (Saudia)</option>
                  <option value="Kuwait Airways">Kuwait Airways</option>
                  <option value="Gulf Air">Gulf Air</option>
                  <option value="Oman Air">Oman Air</option>
                  <option value="Air Arabia">Air Arabia</option>
                  <option value="Flynas">Flynas</option>
                  <option value="Jazeera Airways">Jazeera Airways</option>
                  <option value="Middle East Airlines">Middle East Airlines (MEA)</option>
                  <option value="Royal Jordanian">Royal Jordanian</option>
                  <option value="EgyptAir">EgyptAir</option>
                  <option value="Pegasus Airlines">Pegasus Airlines</option>
                  <option value="AtlasGlobal">AtlasGlobal</option>
                  <option value="Iran Air">Iran Air</option>
                  <option value="Iraq Airways">Iraq Airways</option>
                </optgroup>
                <optgroup label="European Airlines">
                  <option value="Lufthansa">Lufthansa</option>
                  <option value="British Airways">British Airways</option>
                  <option value="Air France">Air France</option>
                  <option value="KLM">KLM Royal Dutch Airlines</option>
                  <option value="Ryanair">Ryanair</option>
                  <option value="EasyJet">EasyJet</option>
                  <option value="Turkish Airlines">Turkish Airlines</option>
                  <option value="Alitalia">ITA Airways (former Alitalia)</option>
                  <option value="Swiss International">Swiss International Air Lines</option>
                  <option value="Austrian Airlines">Austrian Airlines</option>
                  <option value="Iberia">Iberia</option>
                  <option value="Vueling">Vueling Airlines</option>
                  <option value="TAP Air Portugal">TAP Air Portugal</option>
                  <option value="SAS">SAS Scandinavian Airlines</option>
                  <option value="Finnair">Finnair</option>
                  <option value="Norwegian">Norwegian Air</option>
                  <option value="Wizz Air">Wizz Air</option>
                  <option value="Aer Lingus">Aer Lingus</option>
                  <option value="Brussels Airlines">Brussels Airlines</option>
                  <option value="Croatia Airlines">Croatia Airlines</option>
                  <option value="Czech Airlines">Czech Airlines</option>
                  <option value="LOT Polish Airlines">LOT Polish Airlines</option>
                  <option value="Aegean Airlines">Aegean Airlines</option>
                  <option value="Air Serbia">Air Serbia</option>
                  <option value="Ukraine International">Ukraine International Airlines</option>
                </optgroup>
                <optgroup label="Asian Airlines">
                  <option value="Singapore Airlines">Singapore Airlines</option>
                  <option value="Cathay Pacific">Cathay Pacific</option>
                  <option value="ANA">ANA (All Nippon Airways)</option>
                  <option value="JAL">JAL (Japan Airlines)</option>
                  <option value="Korean Air">Korean Air</option>
                  <option value="Thai Airways">Thai Airways</option>
                  <option value="Malaysia Airlines">Malaysia Airlines</option>
                  <option value="Air Asia">AirAsia</option>
                  <option value="China Eastern">China Eastern Airlines</option>
                  <option value="China Southern">China Southern Airlines</option>
                  <option value="Air China">Air China</option>
                  <option value="Hainan Airlines">Hainan Airlines</option>
                  <option value="Shenzhen Airlines">Shenzhen Airlines</option>
                  <option value="Spring Airlines">Spring Airlines</option>
                  <option value="Cebu Pacific">Cebu Pacific Air</option>
                  <option value="Philippine Airlines">Philippine Airlines</option>
                  <option value="Garuda Indonesia">Garuda Indonesia</option>
                  <option value="Lion Air">Lion Air</option>
                  <option value="Jetstar Asia">Jetstar Asia</option>
                  <option value="Scoot">Scoot</option>
                  <option value="Bangkok Airways">Bangkok Airways</option>
                  <option value="Nok Air">Nok Air</option>
                  <option value="VietJet Air">VietJet Air</option>
                  <option value="Vietnam Airlines">Vietnam Airlines</option>
                  <option value="Asiana Airlines">Asiana Airlines</option>
                  <option value="Jeju Air">Jeju Air</option>
                  <option value="IndiGo">IndiGo</option>
                  <option value="SpiceJet">SpiceJet</option>
                  <option value="Go First">Go First (GoAir)</option>
                  <option value="Vistara">Vistara</option>
                  <option value="Air India">Air India</option>
                  <option value="Sri Lankan Airlines">Sri Lankan Airlines</option>
                  <option value="Pakistan International">Pakistan International Airlines</option>
                  <option value="Bangladesh Biman">Bangladesh Biman</option>
                </optgroup>
                <optgroup label="North American Airlines">
                  <option value="American Airlines">American Airlines</option>
                  <option value="Delta Air Lines">Delta Air Lines</option>
                  <option value="United Airlines">United Airlines</option>
                  <option value="Southwest Airlines">Southwest Airlines</option>
                  <option value="Air Canada">Air Canada</option>
                  <option value="WestJet">WestJet</option>
                  <option value="JetBlue Airways">JetBlue Airways</option>
                  <option value="Alaska Airlines">Alaska Airlines</option>
                  <option value="Spirit Airlines">Spirit Airlines</option>
                  <option value="Frontier Airlines">Frontier Airlines</option>
                  <option value="Hawaiian Airlines">Hawaiian Airlines</option>
                  <option value="Porter Airlines">Porter Airlines</option>
                  <option value="Allegiant Air">Allegiant Air</option>
                  <option value="Sun Country Airlines">Sun Country Airlines</option>
                </optgroup>
                <optgroup label="Latin American Airlines">
                  <option value="LATAM">LATAM Airlines</option>
                  <option value="Avianca">Avianca</option>
                  <option value="Copa Airlines">Copa Airlines</option>
                  <option value="Aeromexico">Aeromexico</option>
                  <option value="Volaris">Volaris</option>
                  <option value="Interjet">Interjet</option>
                  <option value="VivaAerobus">VivaAerobus</option>
                  <option value="Azul Brazilian">Azul Brazilian Airlines</option>
                  <option value="GOL">GOL Linhas Aéreas</option>
                  <option value="JetSMART">JetSMART</option>
                  <option value="Sky Airline">Sky Airline</option>
                  <option value="Wingo">Wingo</option>
                </optgroup>
                <optgroup label="African Airlines">
                  <option value="Ethiopian Airlines">Ethiopian Airlines</option>
                  <option value="Kenya Airways">Kenya Airways</option>
                  <option value="South African Airways">South African Airways</option>
                  <option value="EgyptAir">EgyptAir</option>
                  <option value="Royal Air Maroc">Royal Air Maroc</option>
                  <option value="Tunisair">Tunisair</option>
                  <option value="Air Algerie">Air Algérie</option>
                  <option value="Libyan Airlines">Libyan Airlines</option>
                  <option value="Sudan Airways">Sudan Airways</option>
                  <option value="RwandAir">RwandAir</option>
                  <option value="Precision Air">Precision Air</option>
                  <option value="Fastjet">Fastjet</option>
                  <option value="Kulula">Kulula.com</option>
                  <option value="Mango Airlines">Mango Airlines</option>
                  <option value="Air Mauritius">Air Mauritius</option>
                  <option value="Air Seychelles">Air Seychelles</option>
                </optgroup>
                <optgroup label="Oceania Airlines">
                  <option value="Qantas">Qantas Airways</option>
                  <option value="Jetstar Airways">Jetstar Airways</option>
                  <option value="Virgin Australia">Virgin Australia</option>
                  <option value="Tiger Airways">Tigerair Australia</option>
                  <option value="Air New Zealand">Air New Zealand</option>
                  <option value="Fiji Airways">Fiji Airways</option>
                  <option value="Air Vanuatu">Air Vanuatu</option>
                  <option value="Solomon Airlines">Solomon Airlines</option>
                </optgroup>
                <optgroup label="Aviation Authorities">
                  <option value="EASA">EASA (European Union Aviation Safety Agency)</option>
                  <option value="FAA">FAA (Federal Aviation Administration - USA)</option>
                  <option value="Transport Canada">Transport Canada Civil Aviation</option>
                  <option value="CASA">CASA (Civil Aviation Safety Authority - Australia)</option>
                  <option value="CAA UK">CAA UK (Civil Aviation Authority - United Kingdom)</option>
                  <option value="DGCA India">DGCA India (Directorate General of Civil Aviation)</option>
                  <option value="GCAA UAE">GCAA UAE (General Civil Aviation Authority)</option>
                </optgroup>
                <optgroup label="Other Employers">
                  <option value="Military">Military Aviation</option>
                  <option value="Charter Company">Charter/Corporate Aviation</option>
                  <option value="Flight Training">Flight Training Organization</option>
                  <option value="Cargo Airline">Cargo Airline</option>
                  <option value="Other">Other (specify in notes)</option>
                </optgroup>
              </select>
            </div>
            <div>
              <label>Issue Date</label>
              <input type="date" id="incidentDate" />
            </div>
            <div>
              <label>Upload Letter</label>
              <input type="file" id="incidentFile" accept=".pdf,.jpg,.png" />
            </div>
            <div></div>
          </div>
          <div class="requirement-note">
            <strong>Requirement:</strong> Official "No Incident/Accident" letter from previous airline/employer covering entire employment period. Must state no incidents, accidents, or safety violations during employment. Letter must be issued within 30 days of joining date.
          </div>
        </div>

        <div class="form-section">
          <h2 class="section-h">🛂 UAE Visa & Work Permit</h2>
          <div class="grid">
            <div>
              <label>Visa Type & Number</label>
              <input type="text" id="visaNumber" placeholder="Enter UAE visa number" />
            </div>
            <div>
              <label>Issue Date</label>
              <input type="date" id="visaIssue" onchange="calculateExpiry('visa')" />
            </div>
            <div>
              <label>Expiry Date</label>
              <input type="date" id="visaExpiry" onchange="checkValidity('visa')" />
            </div>
            <div>
              <label>Upload Document</label>
              <input type="file" id="visaFile" accept=".pdf,.jpg,.png" />
            </div>
          </div>
          <div id="visaStatus"></div>
          <div class="requirement-note">
            <strong>Requirement:</strong> Valid UAE employment visa or work permit. Visa must be valid for the duration of employment contract. If not yet obtained, candidate must be eligible for UAE employment visa sponsorship.
          </div>
        </div>

        <div class="form-section">
          <h2 class="section-h">📘 Passport</h2>
          <div class="grid">
            <div>
              <label>Passport Number</label>
              <input type="text" id="passportNumber" placeholder="Enter passport number" />
            </div>
            <div>
              <label>Passport</label>
              <select id="passportNationality" style="width: 200px;">
                <option value="">Select Passport</option>
                <optgroup label="Middle East">
                  <option value="Emirati">Emirati (UAE)</option>
                  <option value="Saudi">Saudi Arabian</option>
                  <option value="Qatari">Qatari</option>
                  <option value="Kuwaiti">Kuwaiti</option>
                  <option value="Bahraini">Bahraini</option>
                  <option value="Omani">Omani</option>
                  <option value="Jordanian">Jordanian</option>
                  <option value="Lebanese">Lebanese</option>
                  <option value="Iraqi">Iraqi</option>
                  <option value="Iranian">Iranian</option>
                  <option value="Turkish">Turkish</option>
                  <option value="Syrian">Syrian</option>
                  <option value="Yemeni">Yemeni</option>
                  <option value="Israeli">Israeli</option>
                  <option value="Palestinian">Palestinian</option>
                </optgroup>
                <optgroup label="Asia">
                  <option value="Indian">Indian</option>
                  <option value="Pakistani">Pakistani</option>
                  <option value="Bangladeshi">Bangladeshi</option>
                  <option value="Sri Lankan">Sri Lankan</option>
                  <option value="Nepalese">Nepalese</option>
                  <option value="Filipino">Filipino</option>
                  <option value="Indonesian">Indonesian</option>
                  <option value="Malaysian">Malaysian</option>
                  <option value="Singaporean">Singaporean</option>
                  <option value="Thai">Thai</option>
                  <option value="Vietnamese">Vietnamese</option>
                  <option value="Cambodian">Cambodian</option>
                  <option value="Myanmar">Myanmar</option>
                  <option value="Chinese">Chinese</option>
                  <option value="Japanese">Japanese</option>
                  <option value="South Korean">South Korean</option>
                  <option value="North Korean">North Korean</option>
                  <option value="Afghan">Afghan</option>
                  <option value="Uzbek">Uzbek</option>
                  <option value="Kazakh">Kazakh</option>
                  <option value="Kyrgyz">Kyrgyz</option>
                  <option value="Tajik">Tajik</option>
                  <option value="Turkmen">Turkmen</option>
                </optgroup>
                <optgroup label="Europe">
                  <option value="British">British</option>
                  <option value="German">German</option>
                  <option value="French">French</option>
                  <option value="Italian">Italian</option>
                  <option value="Spanish">Spanish</option>
                  <option value="Dutch">Dutch</option>
                  <option value="Belgian">Belgian</option>
                  <option value="Swiss">Swiss</option>
                  <option value="Austrian">Austrian</option>
                  <option value="Swedish">Swedish</option>
                  <option value="Norwegian">Norwegian</option>
                  <option value="Danish">Danish</option>
                  <option value="Finnish">Finnish</option>
                  <option value="Polish">Polish</option>
                  <option value="Czech">Czech</option>
                  <option value="Hungarian">Hungarian</option>
                  <option value="Slovak">Slovak</option>
                  <option value="Slovenian">Slovenian</option>
                  <option value="Croatian">Croatian</option>
                  <option value="Serbian">Serbian</option>
                  <option value="Romanian">Romanian</option>
                  <option value="Bulgarian">Bulgarian</option>
                  <option value="Greek">Greek</option>
                  <option value="Portuguese">Portuguese</option>
                  <option value="Irish">Irish</option>
                  <option value="Icelandic">Icelandic</option>
                  <option value="Russian">Russian</option>
                  <option value="Ukrainian">Ukrainian</option>
                  <option value="Belarusian">Belarusian</option>
                  <option value="Lithuanian">Lithuanian</option>
                  <option value="Latvian">Latvian</option>
                  <option value="Estonian">Estonian</option>
                </optgroup>
                <optgroup label="Africa">
                  <option value="Egyptian">Egyptian</option>
                  <option value="Moroccan">Moroccan</option>
                  <option value="Tunisian">Tunisian</option>
                  <option value="Algerian">Algerian</option>
                  <option value="Libyan">Libyan</option>
                  <option value="Sudanese">Sudanese</option>
                  <option value="South Sudanese">South Sudanese</option>
                  <option value="Ethiopian">Ethiopian</option>
                  <option value="Kenyan">Kenyan</option>
                  <option value="Tanzanian">Tanzanian</option>
                  <option value="Ugandan">Ugandan</option>
                  <option value="Rwandan">Rwandan</option>
                  <option value="Burundian">Burundian</option>
                  <option value="Somali">Somali</option>
                  <option value="Nigerian">Nigerian</option>
                  <option value="Ghanaian">Ghanaian</option>
                  <option value="South African">South African</option>
                  <option value="Zimbabwean">Zimbabwean</option>
                  <option value="Botswanan">Botswanan</option>
                  <option value="Namibian">Namibian</option>
                  <option value="Zambian">Zambian</option>
                  <option value="Malawian">Malawian</option>
                  <option value="Mozambican">Mozambican</option>
                  <option value="Malagasy">Malagasy</option>
                  <option value="Mauritian">Mauritian</option>
                  <option value="Seychellois">Seychellois</option>
                </optgroup>
                <optgroup label="Americas">
                  <option value="American">American</option>
                  <option value="Canadian">Canadian</option>
                  <option value="Mexican">Mexican</option>
                  <option value="Brazilian">Brazilian</option>
                  <option value="Argentine">Argentine</option>
                  <option value="Chilean">Chilean</option>
                  <option value="Peruvian">Peruvian</option>
                  <option value="Colombian">Colombian</option>
                  <option value="Venezuelan">Venezuelan</option>
                  <option value="Ecuadorian">Ecuadorian</option>
                  <option value="Bolivian">Bolivian</option>
                  <option value="Paraguayan">Paraguayan</option>
                  <option value="Uruguayan">Uruguayan</option>
                  <option value="Guyanese">Guyanese</option>
                  <option value="Surinamese">Surinamese</option>
                  <option value="Jamaican">Jamaican</option>
                  <option value="Trinidadian">Trinidadian</option>
                  <option value="Barbadian">Barbadian</option>
                  <option value="Bahamian">Bahamian</option>
                  <option value="Cuban">Cuban</option>
                  <option value="Dominican">Dominican</option>
                  <option value="Haitian">Haitian</option>
                  <option value="Guatemalan">Guatemalan</option>
                  <option value="Honduran">Honduran</option>
                  <option value="Salvadoran">Salvadoran</option>
                  <option value="Nicaraguan">Nicaraguan</option>
                  <option value="Costa Rican">Costa Rican</option>
                  <option value="Panamanian">Panamanian</option>
                </optgroup>
                <optgroup label="Oceania">
                  <option value="Australian">Australian</option>
                  <option value="New Zealander">New Zealander</option>
                  <option value="Fijian">Fijian</option>
                  <option value="Papua New Guinean">Papua New Guinean</option>
                  <option value="Solomon Islander">Solomon Islander</option>
                  <option value="Vanuatuan">Vanuatuan</option>
                  <option value="Samoan">Samoan</option>
                  <option value="Tongan">Tongan</option>
                </optgroup>
              </select>
            </div>
            <div>
              <label>Country of Issue</label>
              <select id="passportCountry" style="width: 220px;">
                <option value="">Select Country</option>
                <optgroup label="Middle East">
                  <option value="United Arab Emirates">United Arab Emirates</option>
                  <option value="Saudi Arabia">Saudi Arabia</option>
                  <option value="Qatar">Qatar</option>
                  <option value="Kuwait">Kuwait</option>
                  <option value="Bahrain">Bahrain</option>
                  <option value="Oman">Oman</option>
                  <option value="Jordan">Jordan</option>
                  <option value="Lebanon">Lebanon</option>
                  <option value="Iraq">Iraq</option>
                  <option value="Iran">Iran</option>
                  <option value="Turkey">Turkey</option>
                  <option value="Syria">Syria</option>
                  <option value="Yemen">Yemen</option>
                  <option value="Israel">Israel</option>
                  <option value="Palestine">Palestine</option>
                </optgroup>
                <optgroup label="Asia">
                  <option value="India">India</option>
                  <option value="Pakistan">Pakistan</option>
                  <option value="Bangladesh">Bangladesh</option>
                  <option value="Sri Lanka">Sri Lanka</option>
                  <option value="Nepal">Nepal</option>
                  <option value="Philippines">Philippines</option>
                  <option value="Indonesia">Indonesia</option>
                  <option value="Malaysia">Malaysia</option>
                  <option value="Singapore">Singapore</option>
                  <option value="Thailand">Thailand</option>
                  <option value="Vietnam">Vietnam</option>
                  <option value="Cambodia">Cambodia</option>
                  <option value="Myanmar">Myanmar</option>
                  <option value="China">China</option>
                  <option value="Japan">Japan</option>
                  <option value="South Korea">South Korea</option>
                  <option value="North Korea">North Korea</option>
                  <option value="Afghanistan">Afghanistan</option>
                  <option value="Uzbekistan">Uzbekistan</option>
                  <option value="Kazakhstan">Kazakhstan</option>
                  <option value="Kyrgyzstan">Kyrgyzstan</option>
                  <option value="Tajikistan">Tajikistan</option>
                  <option value="Turkmenistan">Turkmenistan</option>
                </optgroup>
                <optgroup label="Europe">
                  <option value="United Kingdom">United Kingdom</option>
                  <option value="Germany">Germany</option>
                  <option value="France">France</option>
                  <option value="Italy">Italy</option>
                  <option value="Spain">Spain</option>
                  <option value="Netherlands">Netherlands</option>
                  <option value="Belgium">Belgium</option>
                  <option value="Switzerland">Switzerland</option>
                  <option value="Austria">Austria</option>
                  <option value="Sweden">Sweden</option>
                  <option value="Norway">Norway</option>
                  <option value="Denmark">Denmark</option>
                  <option value="Finland">Finland</option>
                  <option value="Poland">Poland</option>
                  <option value="Czech Republic">Czech Republic</option>
                  <option value="Hungary">Hungary</option>
                  <option value="Slovakia">Slovakia</option>
                  <option value="Slovenia">Slovenia</option>
                  <option value="Croatia">Croatia</option>
                  <option value="Serbia">Serbia</option>
                  <option value="Romania">Romania</option>
                  <option value="Bulgaria">Bulgaria</option>
                  <option value="Greece">Greece</option>
                  <option value="Portugal">Portugal</option>
                  <option value="Ireland">Ireland</option>
                  <option value="Iceland">Iceland</option>
                  <option value="Russia">Russia</option>
                  <option value="Ukraine">Ukraine</option>
                  <option value="Belarus">Belarus</option>
                  <option value="Lithuania">Lithuania</option>
                  <option value="Latvia">Latvia</option>
                  <option value="Estonia">Estonia</option>
                </optgroup>
                <optgroup label="Africa">
                  <option value="Egypt">Egypt</option>
                  <option value="Morocco">Morocco</option>
                  <option value="Tunisia">Tunisia</option>
                  <option value="Algeria">Algeria</option>
                  <option value="Libya">Libya</option>
                  <option value="Sudan">Sudan</option>
                  <option value="South Sudan">South Sudan</option>
                  <option value="Ethiopia">Ethiopia</option>
                  <option value="Kenya">Kenya</option>
                  <option value="Tanzania">Tanzania</option>
                  <option value="Uganda">Uganda</option>
                  <option value="Rwanda">Rwanda</option>
                  <option value="Burundi">Burundi</option>
                  <option value="Somalia">Somalia</option>
                  <option value="Nigeria">Nigeria</option>
                  <option value="Ghana">Ghana</option>
                  <option value="South Africa">South Africa</option>
                  <option value="Zimbabwe">Zimbabwe</option>
                  <option value="Botswana">Botswana</option>
                  <option value="Namibia">Namibia</option>
                  <option value="Zambia">Zambia</option>
                  <option value="Malawi">Malawi</option>
                  <option value="Mozambique">Mozambique</option>
                  <option value="Madagascar">Madagascar</option>
                  <option value="Mauritius">Mauritius</option>
                  <option value="Seychelles">Seychelles</option>
                </optgroup>
                <optgroup label="Americas">
                  <option value="United States">United States</option>
                  <option value="Canada">Canada</option>
                  <option value="Mexico">Mexico</option>
                  <option value="Brazil">Brazil</option>
                  <option value="Argentina">Argentina</option>
                  <option value="Chile">Chile</option>
                  <option value="Peru">Peru</option>
                  <option value="Colombia">Colombia</option>
                  <option value="Venezuela">Venezuela</option>
                  <option value="Ecuador">Ecuador</option>
                  <option value="Bolivia">Bolivia</option>
                  <option value="Paraguay">Paraguay</option>
                  <option value="Uruguay">Uruguay</option>
                  <option value="Guyana">Guyana</option>
                  <option value="Suriname">Suriname</option>
                  <option value="Jamaica">Jamaica</option>
                  <option value="Trinidad and Tobago">Trinidad and Tobago</option>
                  <option value="Barbados">Barbados</option>
                  <option value="Bahamas">Bahamas</option>
                  <option value="Cuba">Cuba</option>
                  <option value="Dominican Republic">Dominican Republic</option>
                  <option value="Haiti">Haiti</option>
                  <option value="Guatemala">Guatemala</option>
                  <option value="Honduras">Honduras</option>
                  <option value="El Salvador">El Salvador</option>
                  <option value="Nicaragua">Nicaragua</option>
                  <option value="Costa Rica">Costa Rica</option>
                  <option value="Panama">Panama</option>
                </optgroup>
                <optgroup label="Oceania">
                  <option value="Australia">Australia</option>
                  <option value="New Zealand">New Zealand</option>
                  <option value="Fiji">Fiji</option>
                  <option value="Papua New Guinea">Papua New Guinea</option>
                  <option value="Solomon Islands">Solomon Islands</option>
                  <option value="Vanuatu">Vanuatu</option>
                  <option value="Samoa">Samoa</option>
                  <option value="Tonga">Tonga</option>
                </optgroup>
              </select>
            </div>
            <div>
              <label>Upload Document</label>
              <input type="file" id="passportFile" accept=".pdf,.jpg,.png" />
            </div>
          </div>
          <div class="grid" style="margin-top: 16px; grid-template-columns: 170px 170px 250px 250px;">
            <div>
              <label>Issue Date</label>
              <input type="date" id="passportIssue" onchange="calculateExpiry('passport')" />
            </div>
            <div>
              <label>Expiry Date</label>
              <input type="date" id="passportExpiry" onchange="checkValidity('passport')" />
            </div>
            <div></div>
            <div></div>
          </div>
          <div id="passportStatus"></div>
          <div class="requirement-note">
            <strong>Requirement:</strong> Valid passport with minimum 6 months validity remaining after expected date of joining. Passport must have sufficient blank pages for visa stamps and be in good condition.
          </div>
        </div>

        <!-- Declaration & Signature -->
        <div class="section" id="signSection">
          <div class="section-title"><h3>✍️ Declaration & Digital Signature</h3></div>
          <div style="background:linear-gradient(135deg,#fef7ed 0%,#fed7aa 100%);padding:20px;border-radius:12px;border:2px solid var(--flydubai-orange);margin-bottom:24px;">
            <p style="font-size:14px;line-height:1.7;color:var(--flydubai-navy);margin:0;font-weight:500;text-align:justify;">
              <strong>DECLARATION:</strong> I solemnly declare and affirm that all documentation, certifications, and validity periods contained herein are true, accurate, and complete in accordance with UAE GCAA regulations, ICAO standards, and applicable civil aviation requirements. I acknowledge that this declaration is made under penalty of regulatory sanctions and understand that any material misrepresentation, omission, or falsification may result in suspension or revocation of aviation privileges, termination of employment, and disciplinary proceedings pursuant to UAE aviation law. I further acknowledge my continuing obligation to maintain current and valid documentation in compliance with UAE employment and aviation regulatory requirements.
            </p>
          </div>
          <div class="grid">
            <div>
              <label>Date</label>
              <input type="date" id="sigDate" />
              <span class="date-print" id="sigDatePrint"></span>
            </div>
            <div>
              <label>Digital Signature</label>
              <div class="sig-pad">
                <canvas id="sigCanvas"></canvas>
                <div id="sigControls" class="controls no-print">
                  <input type="text" id="typedSig" placeholder="Type name to render as signature" style="flex:1;min-width:220px;padding:10px 12px;border:1px solid var(--line);border-radius:10px" />
                  <button class="btn" id="sigApply">Apply Typed</button>
                  <label class="btn" for="sigUpload">Upload Image</label>
                  <input id="sigUpload" type="file" accept="image/*" style="display:none" />
                  <button class="btn warn" id="sigClear">Clear</button>
                </div>
              </div>
              <div class="muted" style="font-size:12px;margin-top:6px">You can draw, apply a typed name, or upload a signature image.</div>
            </div>
          </div>
        </div>

        <!-- Download button -->
        <div id="submitNote" style="text-align:center;margin:40px 0 0;padding:32px;background:linear-gradient(135deg,#fafbff 0%,#f8fafc 100%);border-radius:20px;border:2px solid var(--line);">
          <p style="margin:0 0 20px;font-size:15px;color:var(--flydubai-navy);font-weight:500;">Kindly download the completed form and send the PDF file to <strong style="color:var(--flydubai-blue);font-weight:700;">HR.Documentation@flydubai.com</strong></p>
          <div class="no-print" style="text-align:center;">
            <button class="btn primary" id="btnDownload" style="font-size:16px;padding:16px 32px;">📄 Download PDF</button>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script>
    // Check document validity based on expiry dates
    function checkValidity(docType) {
      const today = new Date();
      const expiryInput = document.getElementById(docType + 'Expiry');
      const statusDiv = document.getElementById(docType + 'Status');
      
      if (!expiryInput.value || !statusDiv) return;
      
      const expiryDate = new Date(expiryInput.value);
      const daysUntilExpiry = Math.ceil((expiryDate - today) / (1000 * 60 * 60 * 24));
      
      statusDiv.innerHTML = '';
      
      if (daysUntilExpiry < 0) {
        statusDiv.innerHTML = '<span class="status-indicator status-expired">EXPIRED</span>';
      } else if (daysUntilExpiry <= 30) {
        statusDiv.innerHTML = '<span class="status-indicator status-warning">EXPIRES SOON</span>';
      } else {
        statusDiv.innerHTML = '<span class="status-indicator status-valid">VALID</span>';
      }
    }

    // Calculate expiry for documents with standard validity periods
    function calculateExpiry(docType) {
      const issueInput = document.getElementById(docType + 'Issue');
      const expiryInput = document.getElementById(docType + 'Expiry');
      
      if (!issueInput.value) return;
      
      const issueDate = new Date(issueInput.value);
      let expiryDate = new Date(issueDate);
      
      // Standard validity periods
      switch(docType) {
        case 'medical':
          expiryDate.setMonth(expiryDate.getMonth() + 12); // 12 months
          break;
        case 'rol':
          expiryDate.setFullYear(expiryDate.getFullYear() + 5); // 5 years
          break;
        default:
          return; // Don't auto-calculate for other documents
      }
      
      expiryInput.value = expiryDate.toISOString().split('T')[0];
      checkValidity(docType);
    }


    // Download PDF functionality
    document.getElementById('btnDownload').addEventListener('click', () => {
      window.print();
    });

    // Initialize date for signature
    document.getElementById('sigDate').value = new Date().toISOString().split('T')[0];

    // ===== Signature pad logic (draw / typed / upload) =====
    (function initSignature(){
      const canvas = document.getElementById('sigCanvas');
      if(!canvas) return; const ctx = canvas.getContext('2d');
      function setupCanvas(){
        const ratio = Math.max(window.devicePixelRatio || 1, 1);
        const rect = canvas.getBoundingClientRect();
        canvas.width = rect.width * ratio; canvas.height = 160 * ratio;
        ctx.setTransform(ratio,0,0,ratio,0,0); ctx.lineWidth = 2; ctx.lineJoin='round'; ctx.lineCap='round'; ctx.strokeStyle = '#111827';
      }
      function clearCanvas(){ ctx.clearRect(0,0,canvas.width,canvas.height); }
      function pos(e){ const r=canvas.getBoundingClientRect(); const p=e.touches? e.touches[0]: e; return {x:p.clientX - r.left, y:p.clientY - r.top}; }
      let drawing=false, lastX=0, lastY=0;
      function start(e){ drawing=true; const p=pos(e); lastX=p.x; lastY=p.y; e.preventDefault(); }
      function move(e){ if(!drawing) return; const p=pos(e); ctx.beginPath(); ctx.moveTo(lastX,lastY); ctx.lineTo(p.x,p.y); ctx.stroke(); lastX=p.x; lastY=p.y; e.preventDefault(); }
      function end(){ drawing=false; }
      setupCanvas(); window.addEventListener('resize', setupCanvas);
      canvas.addEventListener('mousedown', start); canvas.addEventListener('mousemove', move); window.addEventListener('mouseup', end);
      canvas.addEventListener('touchstart', start, {passive:false}); canvas.addEventListener('touchmove', move, {passive:false}); window.addEventListener('touchend', end);

      document.getElementById('sigClear').addEventListener('click', clearCanvas);
      document.getElementById('sigApply').addEventListener('click', ()=>{
        const txt = (document.getElementById('typedSig').value || '').trim(); if(!txt) return;
        clearCanvas();
        ctx.font = '36px cursive'; ctx.fillStyle = '#111827';
        const metrics = ctx.measureText(txt); const cssW = canvas.getBoundingClientRect().width; const x = Math.max(10, (cssW - metrics.width)/2 );
        ctx.fillText(txt, x, 110);
      });
      document.getElementById('sigUpload').addEventListener('change', (ev)=>{
        const file = ev.target.files && ev.target.files[0]; if(!file) return;
        const img = new Image(); img.onload = ()=>{
          clearCanvas();
          const cssW = canvas.getBoundingClientRect().width, cssH = 160; 
          const scale = Math.min(cssW*0.9 / img.width, cssH*0.9 / img.height);
          const w = img.width * scale, h = img.height * scale; const x = (cssW - w)/2, y = (cssH - h)/2;
          ctx.drawImage(img, x, y, w, h);
        }; img.src = URL.createObjectURL(file);
      });
    })();
  </script>
</body>
</html>